Deterministic metrics (threshold=0.5): precision=0.7950, recall=0.8746, f1=0.8329, auc=0.9143
Deterministic metrics (threshold=0.5): precision=0.8763, recall=0.8898, f1=0.8830, auc=0.9549
Deterministic metrics (threshold=0.5): precision=0.9235, recall=0.9412, f1=0.9323, auc=0.9795

=============================================================================================

GridSearch best params: {'clf__l2_regularization': 1.0, 'clf__learning_rate': 0.05, 'clf__max_depth': 10, 'clf__max_iter': 500}

Saved pipeline to melody_checker.joblib

Sentinel triplet: (7, 135, 323) rel_freq: 0.02117889346543471

Chosen threshold for target_precision 0.97 : 0.9267015706806283

Demo idx 21229: decision=False, prob=0.8758, reason=ml_threshold
Diagnostics: {'sequence_hash': 'd10d19f4cc50662cf2dde803467f5d1b427266396277180947a7cf8af14dd484', 'feature_vector': {'length': 135.0, 'mod3': 0.0, 'unique_count': 43.0, 'checksum_comp': 1044883.0, 'bitmask': 807428607.0, 'mean': 158.77777777777777, 'std': 123.14476074427783, 'median': 134.0, 'min': 0.0, 'max': 324.0, 'entropy': 4.962180770929567, 'p10': 5.0, 'p25': 17.5, 'p75': 314.0, 'p90': 317.0, 'last_triplet_hash': 32825.0, 'pref_0': 0.0, 'pref_1': 132.0, 'pref_2': 316.0, 'pref_3': 4.0, 'pref_4': 132.0, 'pref_5': 314.0, 'pref_6': 4.0, 'pref_7': 135.0, 'pref_8': 313.0, 'pref_9': 8.0, 'pref_10': 134.0, 'pref_11': 314.0, 'suff_0': 21.0, 'suff_1': 131.0, 'suff_2': 317.0, 'suff_3': 3.0, 'suff_4': 130.0, 'suff_5': 316.0, 'suff_6': 2.0, 'suff_7': 131.0, 'suff_8': 314.0, 'suff_9': 3.0, 'suff_10': 151.0, 'suff_11': 316.0, 'last_diff_0': -311.0, 'last_diff_1': 148.0, 'last_diff_2': 165.0, 'bigram_sum_0': 6.0, 'bigram_sum_1': 3.0, 'bigram_sum_2': 0.0, 'bigram_sum_3': 0.0, 'bigram_sum_4': 6.0, 'bigram_sum_5': 3.0, 'trigram_sum_0': 2.0, 'trigram_sum_1': 4.0, 'trigram_sum_2': 2.0, 'trigram_sum_3': 5.0}, 'threshold': 0.9267015706806283}

Demo idx 47381: decision=True, prob=0.9954, reason=ml_threshold
Diagnostics: {'sequence_hash': '2014edafadb9e1134ce9eba489e423ccc4a0a9b3d6912f65ac85d7cde55a38ab', 'feature_vector': {'length': 174.0, 'mod3': 0.0, 'unique_count': 37.0, 'checksum_comp': 683983.0, 'bitmask': 2147585249.0, 'mean': 162.67816091954023, 'std': 135.89697705846618, 'median': 133.0, 'min': 0.0, 'max': 349.0, 'entropy': 4.18783129851362, 'p10': 5.0, 'p25': 10.25, 'p75': 337.0, 'p90': 344.0, 'last_triplet_hash': 280342.0, 'pref_0': 0.0, 'pref_1': 159.0, 'pref_2': 344.0, 'pref_3': 31.0, 'pref_4': 133.0, 'pref_5': 340.0, 'pref_6': 5.0, 'pref_7': 133.0, 'pref_8': 342.0, 'pref_9': 5.0, 'pref_10': 138.0, 'pref_11': 344.0, 'suff_0': 5.0, 'suff_1': 133.0, 'suff_2': 344.0, 'suff_3': 5.0, 'suff_4': 133.0, 'suff_5': 347.0, 'suff_6': 5.0, 'suff_7': 133.0, 'suff_8': 348.0, 'suff_9': 6.0, 'suff_10': 169.0, 'suff_11': 349.0, 'last_diff_0': -342.0, 'last_diff_1': 163.0, 'last_diff_2': 180.0, 'bigram_sum_0': 4.0, 'bigram_sum_1': 5.0, 'bigram_sum_2': 2.0, 'bigram_sum_3': 0.0, 'bigram_sum_4': 0.0, 'bigram_sum_5': 2.0, 'trigram_sum_0': 6.0, 'trigram_sum_1': 4.0, 'trigram_sum_2': 1.0, 'trigram_sum_3': 2.0}, 'threshold': 0.9267015706806283}

Demo idx 53301: decision=True, prob=0.9267, reason=ml_threshold
Diagnostics: {'sequence_hash': '22f85c17c8e48b6eb2384017f5a5e37c9956f6d4d52d5a4361f50094619c5d80', 'feature_vector': {'length': 135.0, 'mod3': 0.0, 'unique_count': 31.0, 'checksum_comp': 138918.0, 'bitmask': 103910497.0, 'mean': 151.1925925925926, 'std': 120.33505670026604, 'median': 135.0, 'min': 0.0, 'max': 313.0, 'entropy': 4.527932470942439, 'p10': 10.0, 'p25': 15.0, 'p75': 301.0, 'p90': 308.0, 'last_triplet_hash': 245027.0, 'pref_0': 0.0, 'pref_1': 138.0, 'pref_2': 306.0, 'pref_3': 11.0, 'pref_4': 133.0, 'pref_5': 306.0, 'pref_6': 15.0, 'pref_7': 132.0, 'pref_8': 306.0, 'pref_9': 5.0, 'pref_10': 134.0, 'pref_11': 310.0, 'suff_0': 5.0, 'suff_1': 135.0, 'suff_2': 306.0, 'suff_3': 10.0, 'suff_4': 132.0, 'suff_5': 306.0, 'suff_6': 5.0, 'suff_7': 135.0, 'suff_8': 310.0, 'suff_9': 16.0, 'suff_10': 151.0, 'suff_11': 301.0, 'last_diff_0': -294.0, 'last_diff_1': 135.0, 'last_diff_2': 150.0, 'bigram_sum_0': 4.0, 'bigram_sum_1': 5.0, 'bigram_sum_2': 4.0, 'bigram_sum_3': 3.0, 'bigram_sum_4': 3.0, 'bigram_sum_5': 6.0, 'trigram_sum_0': 3.0, 'trigram_sum_1': 6.0, 'trigram_sum_2': 1.0, 'trigram_sum_3': 5.0}, 'threshold': 0.9267015706806283}

Demo idx 72100: decision=False, prob=0.7723, reason=ml_threshold
Diagnostics: {'sequence_hash': '08b75b720c7dc7eaefef60b9b3ac54784f1133c1d505b3d76979922eee99320c', 'feature_vector': {'length': 90.0, 'mod3': 0.0, 'unique_count': 19.0, 'checksum_comp': 536263.0, 'bitmask': 537004897.0, 'mean': 158.34444444444443, 'std': 130.30742804026613, 'median': 136.0, 'min': 0.0, 'max': 331.0, 'entropy': 3.763461438325465, 'p10': 6.0, 'p25': 11.0, 'p75': 326.0, 'p90': 328.0, 'last_triplet_hash': 758990.0, 'pref_0': 0.0, 'pref_1': 133.0, 'pref_2': 326.0, 'pref_3': 6.0, 'pref_4': 136.0, 'pref_5': 328.0, 'pref_6': 9.0, 'pref_7': 136.0, 'pref_8': 328.0, 'pref_9': 8.0, 'pref_10': 144.0, 'pref_11': 331.0, 'suff_0': 6.0, 'suff_1': 139.0, 'suff_2': 328.0, 'suff_3': 11.0, 'suff_4': 133.0, 'suff_5': 326.0, 'suff_6': 6.0, 'suff_7': 144.0, 'suff_8': 324.0, 'suff_9': 17.0, 'suff_10': 150.0, 'suff_11': 321.0, 'last_diff_0': -307.0, 'last_diff_1': 133.0, 'last_diff_2': 171.0, 'bigram_sum_0': 6.0, 'bigram_sum_1': 1.0, 'bigram_sum_2': 1.0, 'bigram_sum_3': 2.0, 'bigram_sum_4': 4.0, 'bigram_sum_5': 3.0, 'trigram_sum_0': 0.0, 'trigram_sum_1': 0.0, 'trigram_sum_2': 2.0, 'trigram_sum_3': 3.0}, 'threshold': 0.9267015706806283}

Demo idx 63666: decision=True, prob=0.9800, reason=ml_threshold
Diagnostics: {'sequence_hash': 'ac47b8a9500e6c166114aa4a0b8d3192145316a044b9f4892e57d98a9c406c79', 'feature_vector': {'length': 111.0, 'mod3': 0.0, 'unique_count': 26.0, 'checksum_comp': 442639.0, 'bitmask': 135291073.0, 'mean': 158.3063063063063, 'std': 130.84512492633135, 'median': 133.0, 'min': 0.0, 'max': 332.0, 'entropy': 4.240931454900014, 'p10': 7.0, 'p25': 13.5, 'p75': 325.0, 'p90': 330.0, 'last_triplet_hash': 249587.0, 'pref_0': 0.0, 'pref_1': 133.0, 'pref_2': 332.0, 'pref_3': 6.0, 'pref_4': 131.0, 'pref_5': 332.0, 'pref_6': 7.0, 'pref_7': 131.0, 'pref_8': 332.0, 'pref_9': 7.0, 'pref_10': 141.0, 'pref_11': 332.0, 'suff_0': 7.0, 'suff_1': 140.0, 'suff_2': 327.0, 'suff_3': 20.0, 'suff_4': 134.0, 'suff_5': 327.0, 'suff_6': 7.0, 'suff_7': 147.0, 'suff_8': 330.0, 'suff_9': 20.0, 'suff_10': 181.0, 'suff_11': 328.0, 'last_diff_0': -310.0, 'last_diff_1': 161.0, 'last_diff_2': 147.0, 'bigram_sum_0': 6.0, 'bigram_sum_1': 0.0, 'bigram_sum_2': 5.0, 'bigram_sum_3': 5.0, 'bigram_sum_4': 6.0, 'bigram_sum_5': 3.0, 'trigram_sum_0': 5.0, 'trigram_sum_1': 4.0, 'trigram_sum_2': 1.0, 'trigram_sum_3': 5.0}, 'threshold': 0.9267015706806283}